<% @page_title = "Book"%>
<div class = "container">
    <div class = "page-header justify-content-between">
        <span>
            <%= link_to({:action => "index"},:class => "btn btn-success") do%>
                <div class="glyphicon glyphicon-arrow-left"></div> Back
            <%end%>
        </span>
        <span>
            <h3>BOOK DETAILS 
                <span class="glyphicon glyphicon-arrow-right"></span>
                <span class = "well text-capitalize"><%= @book.name%></span>
            </h3>
        </span>
        <span><%= image_tag "#{@book.cover.tiny_thumb.url}", :class => "img-fluid" if @book.cover? %></span>

    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Author Name</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.author.name%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Short Description</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.s_desc%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Long Description</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.l_desc%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Date Of Production</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.date_of_prod%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Price</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.price%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Genre</strong>
        </div>
        <div class = "col-md-10">
             <% if @book.genre.blank?%>
                No genre provided
            <%else%>
                <ul>
                    <%@book.genre.each do |data|%>
                        <li>
                            <%= data%>
                        </li>
                    <%end%>
                </ul>
            <%end%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Created</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.created_at%>
        </div>
    </div>
    <div class = "row well">
        <div class = "col-md-2">
            <strong>Updated</strong>
        </div>
        <div class = "col-md-10">
            <%= @book.updated_at%>
        </div>
    </div>
    <%= render(partial: "reviews/show")%>
    <div class = "p-back m-2">
        <%= link_to("Add a review for Book - #{@book.name}",{:controller => "reviews", :action => "new",:type => "Book", :id => @book.id},:class => "btn btn-primary text-center")%>
    </div>
</div>
